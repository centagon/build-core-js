{"version":3,"names":[],"mappings":"","sources":["build-core.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.WindowDispatch = exports.Sidebar = exports.Selectable = exports.AutoGrow = exports.Container = undefined;\n\nvar _Container = require('./lib/Selectable/Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _AutoGrow = require('./lib/AutoGrow');\n\nvar _AutoGrow2 = _interopRequireDefault(_AutoGrow);\n\nvar _Selectable = require('./lib/Selectable');\n\nvar _Selectable2 = _interopRequireDefault(_Selectable);\n\nvar _Sidebar = require('./lib/Sidebar');\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _WindowDispatch = require('./lib/WindowDispatch');\n\nvar _WindowDispatch2 = _interopRequireDefault(_WindowDispatch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Container = _Container2.default;\nexports.AutoGrow = _AutoGrow2.default;\nexports.Selectable = _Selectable2.default;\nexports.Sidebar = _Sidebar2.default;\nexports.WindowDispatch = _WindowDispatch2.default; /* \n                                                    * To change this license header, choose License Headers in Project Properties.\n                                                    * To change this template file, choose Tools | Templates\n                                                    * and open the template in the editor.\n                                                    */\n\n},{\"./lib/AutoGrow\":2,\"./lib/Selectable\":3,\"./lib/Selectable/Container\":4,\"./lib/Sidebar\":5,\"./lib/WindowDispatch\":6}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AutoGrow = function AutoGrow(element) {\n    _classCallCheck(this, AutoGrow);\n\n    $(element).each(function () {\n        $(this).height($(this)[0].scrollHeight);\n    });\n\n    $(document).on('keyup', element, function () {\n        $(this).css('height', 10).css('height', $(this)[0].scrollHeight + 20);\n    });\n\n    $(function () {\n        return $(element).trigger('keyup');\n    });\n};\n\nexports.default = AutoGrow;\n\n},{}],3:[function(require,module,exports){\n/**\r\n * This file is part of the Centagon Build/Foundation package.\r\n *\r\n * (c) Centagon <build@centagon.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Container = require('./Selectable/Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Selectable = function () {\n\n    /**\r\n     * Construct a new Global Selectable registrar.\r\n     *\r\n     * @param  {string}  element\r\n     */\n    function Selectable(element) {\n        var _this = this;\n\n        _classCallCheck(this, Selectable);\n\n        var query = $(element);\n\n        this.containers = [];\n\n        query.each(function (i, e) {\n            _this.containers.push(new _Container2.default(e));\n        });\n    }\n\n    /**\r\n     * Register the selectable event handlers.\r\n     */\n\n\n    _createClass(Selectable, [{\n        key: 'registerEvents',\n        value: function registerEvents() {\n\n            $.each(this.containers, function (i, e) {\n                e.registerEvents();\n            });\n        }\n    }]);\n\n    return Selectable;\n}();\n\nexports.default = Selectable;\n\n},{\"./Selectable/Container\":4}],4:[function(require,module,exports){\n/**\r\n * This file is part of the Centagon Build/Foundation package.\r\n *\r\n * (c) Centagon <build@centagon.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Container = function () {\n\n    /**\r\n     * Construct a new Selectable Container instance.\r\n     *\r\n     * @param  {string}  element\r\n     */\n    function Container(element) {\n        _classCallCheck(this, Container);\n\n        var query = this.query = $(element);\n\n        // The name [data-name] of this selectable (This WILL be used when specified)\n        this.name = query.data('name');\n\n        this.element = element;\n        this.selector = query.find('input[type=checkbox]:not([value])');\n        this.selectables = query.find('input[type=checkbox][value]');\n\n        this.buttons = this.queryButtons();\n        this.idCollector = this.queryIdCollector();\n    }\n\n    /**\r\n     * Return the buttons for this Selectable Container\r\n     * \r\n     * @returns {jQuery|$|@pro;window@pro;$|Window.$|Element}\r\n     */\n\n\n    _createClass(Container, [{\n        key: 'queryButtons',\n        value: function queryButtons() {\n\n            if (this.name) {\n                return $('[data-selectable-button][for=' + this.name + ']');\n            }\n\n            return $('[data-selectable-button]');\n        }\n\n        /**\r\n         * Return the IdCollector instance\r\n         * \r\n         * @returns {jQuery|$|@pro;window@pro;$|Window.$|Element}\r\n         */\n\n    }, {\n        key: 'queryIdCollector',\n        value: function queryIdCollector() {\n\n            if (this.name) {\n                return $('[data-id-collector][for=' + this.name + ']');\n            }\n\n            return $('[data-id-collector]');\n        }\n\n        /**\r\n         * Register the selectable event handlers.\r\n         */\n\n    }, {\n        key: 'registerEvents',\n        value: function registerEvents() {\n            var _this = this;\n\n            var selectables = this.selectables;\n\n            // Listen to selectable Toggler\n            this.selector.change(function () {\n                selectables.prop('checked', $(this).is(':checked')).trigger('change');\n            });\n\n            // Listen to selectable change triggers\n            selectables.change(function (e) {\n\n                var checked = $(e.target).is(':checked'),\n                    row = $(e.target).closest('.selectable--row');\n\n                // Enable/Disable the Action buttons\n                if (checked) {\n                    _this.buttons.removeAttr('disabled');\n                } else {\n                    _this.buttons.attr('disabled', 'disabled');\n                }\n\n                // id collection\n                var ids = [];\n\n                // Find the checked selectables\n                _this.selectables.filter(':checked').map(function (key, item) {\n                    return ids.push(item.value);\n                });\n\n                // Collect the ids\n                _this.idCollector.val(ids.join(','));\n\n                // Change the Selectable row Style\n                if (checked) {\n                    row.addClass('selected');\n                } else {\n                    row.removeClass('selected');\n                }\n            });\n\n            return this;\n        }\n    }]);\n\n    return Container;\n}();\n\nexports.default = Container;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Sidebar = function () {\n    function Sidebar() {\n        _classCallCheck(this, Sidebar);\n\n        var self = this;\n        var doc = $(document);\n\n        doc.on('click', 'a[href][data-open-sidebar]', function (e) {\n            e.preventDefault();\n\n            var sidebar = $('#' + $(this).data('open-sidebar')),\n                href = $(this).attr('href');\n\n            self.load(sidebar, href);\n        });\n\n        doc.on('click', '.sidebar .cancel-button', function () {\n            self.close($(this).closest('.sidebar'));\n        });\n\n        return this;\n    }\n\n    _createClass(Sidebar, [{\n        key: 'load',\n        value: function load(sidebar, url) {\n            sidebar.addClass('sidebar--open');\n\n            return $.ajax(url).done(function (response) {\n                return sidebar.find('.content').html(response);\n            }).fail(function (response) {\n\n                // It's possible that laravel forgot the site we were logged into.\n                // So when the 'springboard' route returns a 401 unauthorized\n                // status code, then we'll redirect to the site selector.\n                if (response.status === 401) {\n                    window.location.href = config.base_url;\n                }\n            });\n        }\n    }, {\n        key: 'close',\n        value: function close(sidebar) {\n            sidebar.removeClass('sidebar--open').find('.content').html('');\n        }\n    }]);\n\n    return Sidebar;\n}();\n\nexports.default = Sidebar;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n//import {Window} from 'centagon-primer';\n\nvar WindowDispatch = function () {\n    function WindowDispatch() {\n        _classCallCheck(this, WindowDispatch);\n    }\n\n    _createClass(WindowDispatch, [{\n        key: 'setReference',\n\n\n        /**\r\n         * Set the new window reference.\r\n         *\r\n         * @param   {object}  reference\r\n         *\r\n         * @returns {WindowDispatch}\r\n         */\n        value: function setReference(reference) {\n            this.reference = reference;\n\n            return this;\n        }\n\n        /**\r\n         * Post a message to the reference window.\r\n         *\r\n         * @param  {string}  message\r\n         */\n\n    }, {\n        key: 'postMessage',\n        value: function postMessage(message) {\n            this.reference.postMessage(message, '*');\n        }\n\n        /**\r\n         * Open a new window.\r\n         *\r\n         * @param   {string}  url\r\n         * @param   {string}  title\r\n         * @param   {int}     width\r\n         * @param   {int}     height\r\n         *\r\n         * @returns {WindowDispatch}\r\n         */\n\n    }], [{\n        key: 'open',\n        value: function open(url) {\n            var title = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'document';\n            var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 500;\n            var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 250;\n\n            var _Window$getCenter = Window.getCenter(width, height),\n                top = _Window$getCenter.top,\n                left = _Window$getCenter.left;\n\n            var reference = window.open(url, title, this.parseArguments(width, height, top, left));\n\n            reference.focus();\n\n            return new this().setReference(reference);\n        }\n\n        /**\r\n         * Get/set the parent window reference.\r\n         *\r\n         * @returns {WindowDispatch}\r\n         */\n\n    }, {\n        key: 'parent',\n        value: function parent() {\n            return new this().setReference(window.opener);\n        }\n\n        /**\r\n         * Listen to a message event.\r\n         *\r\n         * @param  {Function}  callback\r\n         */\n\n    }, {\n        key: 'listen',\n        value: function listen(callback) {\n            window.addEventListener('message', function (e) {\n                return callback(e);\n            }, false);\n        }\n\n        /**\r\n         * Parse the window arguments.\r\n         *\r\n         * @param  {int}  width\r\n         * @param  {int}  height\r\n         * @param  {int}  top\r\n         * @param  {int}  left\r\n         *\r\n         * @returns {string}\r\n         */\n\n    }, {\n        key: 'parseArguments',\n        value: function parseArguments(width, height, top, left) {\n            return 'scrollbars=yes, width=' + width + ', height=' + height + ', top=' + top + ', left=' + left;\n        }\n    }]);\n\n    return WindowDispatch;\n}();\n\nexports.default = WindowDispatch;\n\n},{}]},{},[1]);\n"],"file":"build-core.js"}